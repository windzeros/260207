/* ===== 전체 페이지 기본 설정 ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box; /* 패딩과 테두리를 크기에 포함 */
}

/* 페이지 배경과 기본 글꼴 설정 */
body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', sans-serif;
    background-color: #B2C7D9; /* 카카오톡 배경색 (하늘-회색) */
    min-height: 100vh; /* 화면 전체 높이 */
    display: flex;
    justify-content: center; /* 가로 가운데 정렬 */
    align-items: center; /* 세로 가운데 정렬 */
    padding: 20px;
}

/* ===== 전체 컨테이너 ===== */
/* 카카오톡 채팅방 전체를 감싸는 박스 */
.container {
    width: 100%;
    max-width: 420px; /* 카카오톡 모바일 너비 */
    height: 90vh;
    background-color: #B2C7D9; /* 카카오톡 채팅방 배경색 */
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column; /* 세로 방향 배치 */
    overflow: hidden;
}

/* ===== 헤더 영역 (카카오톡 상단바) ===== */
.header {
    background-color: #B2C7D9; /* 카카오톡 헤더 배경 */
    padding: 14px 16px;
    display: flex;
    align-items: center; /* 세로 가운데 정렬 */
    justify-content: space-between; /* 양쪽 끝 배치 */
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

/* 뒤로가기 버튼 (장식용) */
.header-back {
    font-size: 22px;
    color: #3C3C3C;
    cursor: pointer;
    width: 30px;
}

/* 헤더 중앙 영역 (채팅방 이름) */
.header-center {
    text-align: center;
    flex: 1;
}

/* 메뉴 버튼 (장식용) */
.header-menu {
    font-size: 20px;
    color: #3C3C3C;
    cursor: pointer;
    width: 30px;
    text-align: right;
}

/* 채팅방 이름 스타일 */
.title {
    font-size: 16px;
    color: #1A1A1A;
    font-weight: 600;
}

/* 부제목 (상담사 표시) */
.subtitle {
    font-size: 11px;
    color: #5B5B5B;
    margin-top: 2px;
}

/* ===== 채팅 영역 ===== */
/* 메시지들이 표시되는 스크롤 가능한 영역 */
.chat-area {
    flex: 1; /* 남은 공간을 모두 차지 */
    overflow-y: auto; /* 세로 스크롤 활성화 */
    padding: 16px 12px;
    display: flex;
    flex-direction: column;
    gap: 8px; /* 메시지 사이 간격 */
}

/* 스크롤바 숨기기 (카카오톡처럼 깔끔하게) */
.chat-area::-webkit-scrollbar {
    width: 4px;
}

.chat-area::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.15);
    border-radius: 2px;
}

/* ===== 메시지 행 (프로필 + 말풍선 묶음) ===== */
/* 상담사 메시지: 프로필 아이콘과 말풍선을 가로로 배치 */
.message-row {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    animation: fadeIn 0.3s ease;
}

/* 상담사 메시지 행은 왼쪽 정렬 */
.message-row.counselor {
    align-self: flex-start;
}

/* 사용자 메시지 행은 오른쪽 정렬 */
.message-row.user {
    align-self: flex-end;
    flex-direction: row-reverse; /* 프로필 없이 오른쪽 정렬 */
}

/* ===== 프로필 아이콘 (상담사) ===== */
/* 카카오톡의 프로필 사진 자리 */
.profile-icon {
    width: 40px;
    height: 40px;
    border-radius: 14px; /* 카카오톡 프로필 모서리 */
    background-color: #FEE500; /* 카카오 노란색 */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    flex-shrink: 0; /* 크기 줄어들지 않도록 */
}

/* ===== 말풍선 내용 영역 ===== */
.message-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

/* 상담사 이름 라벨 */
.message-content .name {
    font-size: 12px;
    color: #3C3C3C;
    font-weight: 600;
}

/* ===== 말풍선 공통 스타일 ===== */
.bubble {
    max-width: 240px;
    padding: 10px 14px;
    border-radius: 14px;
    font-size: 14px;
    line-height: 1.5;
    word-break: break-word; /* 긴 단어 줄바꿈 */
}

/* ===== 상담사 말풍선 (왼쪽, 흰색) ===== */
.bubble.counselor {
    background-color: #FFFFFF;
    color: #1A1A1A;
    border-top-left-radius: 4px; /* 카카오톡 꼬리 느낌 */
}

/* ===== 사용자 말풍선 (오른쪽, 노란색) ===== */
.bubble.user {
    background-color: #FEE500; /* 카카오톡 노란색 */
    color: #1A1A1A;
    border-top-right-radius: 4px;
}

/* ===== 시간 표시 ===== */
.message-time {
    font-size: 10px;
    color: #7B7B7B;
    align-self: flex-end;
    flex-shrink: 0;
}

/* 상담사 메시지의 시간은 말풍선 오른쪽에 */
.message-row.counselor .message-time {
    margin-left: 4px;
}

/* 사용자 메시지의 시간은 말풍선 왼쪽에 */
.message-row.user .message-time {
    margin-right: 4px;
}

/* ===== 타이핑 중 표시 ===== */
.typing-row {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    align-self: flex-start;
    animation: fadeIn 0.3s ease;
}

.typing-indicator {
    background-color: #FFFFFF;
    padding: 10px 16px;
    border-radius: 14px;
    border-top-left-radius: 4px;
    display: flex;
    gap: 5px;
}

/* 타이핑 점 스타일 */
.typing-indicator .dot {
    width: 7px;
    height: 7px;
    background-color: #AAAAAA;
    border-radius: 50%;
    animation: bounce 1.2s infinite;
}

/* 각 점의 애니메이션 시작 시간을 다르게 (물결 효과) */
.typing-indicator .dot:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-indicator .dot:nth-child(3) {
    animation-delay: 0.4s;
}

/* ===== 날짜 구분선 ===== */
.date-divider {
    text-align: center;
    font-size: 11px;
    color: #6B6B6B;
    background-color: rgba(0, 0, 0, 0.06);
    padding: 4px 12px;
    border-radius: 12px;
    align-self: center;
    margin: 8px 0;
}

/* ===== 입력 영역 (카카오톡 하단 입력바) ===== */
.input-area {
    display: flex;
    padding: 10px 12px;
    gap: 8px;
    align-items: center;
    background-color: #EEEEEE; /* 카카오톡 입력바 배경 */
    border-top: 1px solid #D5D5D5;
}

/* 이모지 버튼 */
.icon-button {
    width: 36px;
    height: 36px;
    border: none;
    background: none;
    font-size: 22px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.2s;
}

/* 이모지 버튼 호버 효과 */
.icon-button:hover {
    background-color: #D9D9D9;
}

/* 텍스트 입력창 (카카오톡 스타일) */
.message-input {
    flex: 1;
    padding: 10px 14px;
    border: none;
    border-radius: 20px;
    font-size: 14px;
    outline: none;
    font-family: inherit;
    background-color: #FFFFFF;
}

/* 입력창 포커스 시 */
.message-input:focus {
    box-shadow: 0 0 0 1px #B2C7D9;
}

/* 전송 버튼 (카카오톡 스타일) */
.send-button {
    width: 36px;
    height: 36px;
    background-color: #FEE500; /* 카카오 노란색 */
    color: #3C1E1E;
    border: none;
    border-radius: 50%; /* 원형 버튼 */
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.15s, background-color 0.15s;
}

/* 전송 버튼 호버 */
.send-button:hover {
    background-color: #F5D800;
    transform: scale(1.1);
}

/* 전송 버튼 클릭 */
.send-button:active {
    transform: scale(0.9);
}

/* ===== 애니메이션 정의 ===== */

/* 메시지 등장 시 페이드인 효과 */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 타이핑 점 통통 튀는 효과 */
@keyframes bounce {
    0%, 60%, 100% {
        transform: translateY(0);
    }
    30% {
        transform: translateY(-5px);
    }
}

/* ===== 반응형 디자인 ===== */
/* 모바일 화면에서의 스타일 조정 */
@media (max-width: 480px) {
    body {
        padding: 0;
    }

    .container {
        height: 100vh;
        max-width: 100%;
        border-radius: 0;
    }

    .bubble {
        max-width: 220px;
    }
}
